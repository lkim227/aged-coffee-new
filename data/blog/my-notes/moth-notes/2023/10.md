---
title: 2023-10
date: '2023-11-12'
tags: ['Monthly-2023']
draft: false
summary: ''
---

![th714](https://cdn.jsdelivr.net/gh/klaaay/pbed@main/uPic/th714.jpeg)

## 睡眠

| 睡眠时间 | 优质睡眠 | 入睡时间 | 心率 | 深度睡眠 |
| -------- | -------- | -------- | ---- | -------- |
| 6:31     | 5:35     | 2:36     | 59   | 2:21     |


## 饮食 & 运动 & 习惯

| 高糖食物 | 牛奶 | 运动 | 水果 | 痘痘 | 保持专注 | 写博文 | 阅读 | 学日语 |
| -------- | ---- | ---- | ---- | ---- | -------- | ------ | ---- | ------ |
| 18       | 2    | 21   | 16   | 4    | 28       | 6      | 22   | 30     |


## 书籍 & 影视 & 音乐

| 书  | 影  | 音  |
| --- | --- | --- |
| 2   | 3   | 0   |

看完了长安的荔枝，看之前对它的预想就应该是一个官员完成了一件不可能完成的事情，其中夹杂着权力和剥削，最终这个人平步青云的故事。

读完大部分的构想确实没错，但当自己真正开始读，马伯庸的文字真的深深吸引了我，很难想象故事中的一个个人是如此的鲜活生动，各个场景的描绘让人深觉置身其中，特别是阿潼这个角色竟然可以被描绘的如此可爱，最终这样的结局让我倍感向往，拼尽全力去完成权贵们的愿望却没有被权贵所归化，而是依旧保有那颗敏感于世间平淡情感的心，最终耕种荔枝于岭南这样的生活怎一个惬意了得。


## 工作 & 生活

### 记录

确认好了日本签证清单

---

看了一些 ai 产品和使用体验了一下，别人全链路的配合 ai 生成落地页和 seo 和 sem 还是蛮有意思的，或许自己可以尝试搭建这样的玩具试试看

---

尝试用 nx 搭建新的 workplace 并捋清楚了一些做 landing-page 项目需要功能的思路

+ pc 和 h5 的双端支持，h5 有相关移动开发的范围转化和兼容性考量
+ 要有支持双端的配套部署验证方案和 demo 文件
+ 路由页面级别的懒加载，在根 Layout 需要支持一些页面 Helmet 的配置，内置 baseUrl 逻辑方便快速把服务挂载给已有官网的子路由
+ 提供表单以及安全校验组件的使用示例
+ 提供抖音、百度等数据会转介入的方案示例
+ 在样式编写上支持 styled-component、unocss (内置 tailwind 的写法支持)、less 如有其他样式写法需求也可以在 vite 配置中快速扩展

---

10.27 游记

第一次离开大陆的旅行，从小红书收集了各种来澳门需要准备的东西，一开始在国内机场国际出发值机甚至不清楚有航班专门的柜台受理自己的航班，索性是 check 飞猪行程之后发现有个柜台的信息，提前 2 个多小时来了机场，结果没几分钟就办理好了手续。

到了澳门整个人是一个懵的状态，抓了个叔叔询问了地铁怎么走，叔叔不会普通话，只能用英文尽量告诉我要上楼再往前，1 floor go straight，还不停的比划着手势，索性是顺利找到了位置，可以用支付宝到一个窗口换一个筹码币一样的单乘票，这个票可以直接刷闸机，然后我坐错了方向很尴尬，还好不用多付车票钱，另外其实这里不是地铁，是轻轨，好在我说地铁叔叔理解了我。

到了酒店简单点了个心心念念的本地丝袜奶茶，很可惜有点 normal，大概晚上 8 点不到一点我就带着相机出门 city walk 了，第一站官也街，很多小吃但也不见得比湖州衣裳街美味，喝了个苦瓜柠檬茶继续往城中心走，沿途还看到一大片的露天烧烤，很多老外在吃烧烤，看上去这样的美食还是有国际市场的，沿途的巴士和出租车还是很有当地特色，感觉莫名的有奢华感，也可能是我对港澳先入为主的映像，但走到威尼斯人，巴黎人，伦敦人转盘这一块，真心感觉到了实在的繁华，很像上海东方明珠塔那个转盘那里的感觉，但真心说比不过上海，再往前走到了我设定的目标的终点，永利皇宫，一眼惊艳，门口有付费的缆车换着此起彼伏的喷泉观光浏览，湖前形形色色的人背着喷泉拍照打卡。

原路返回途中放下了相机，更多的用眼睛耳朵去感受，很舒适很惬意的感觉，就是这里的风还是过于湿热。

---

10.28 游记

慵懒的晚起，自然睡到了 12 点，打开手机看 LGD 和 AR 的比赛，AR 大优的局面，但 8 王智将的形象在后面的时间里展现的淋漓尽致，第二把从头到尾被 LGD 运营的服服帖帖，最终 AR2:0 憾负。

出了门用了俺们电兆打车到了大三门牌坊，刚到下午没带伞，就近找了个新八佰伴避雨顺便看看当地人逛的商场，各种东西从一楼到顶楼从奢侈品到生活日常用品和瓜果蔬菜海外零食各层各司其职。

再出去雨停，大三门牌坊和附近的街坊教堂一块游客还是不少，简单逛逛，登高到炮台，神奇的是炮台下面的一处平台就有很多鸽子在飞，莫名的联想战争与和平发现博物馆也在这里买了票逛了博物馆。

出了博物馆找了另一处街道下了山，打开奥觅找了家当地小店吃了个猪扒蛋包饭，意想不到的好吃，吃完想着差不多该打车回酒店了，想不到根本打不到车，没办法找小店老板换了零钱坐上了澳门大巴。

回到酒店简单休整，差不多时间出发步行去演唱会场馆，到了威尼斯人附近完全迷失了方向，东问西问得知了穿过里面的娱乐场出去就是了，顺利找到听上了演唱会
演唱会整一个还是有舞台和主题概念的，新歌老歌，情歌哲思电子各种穿插，听的很爽，还听到了喜欢的任我行和七百年后的现场，很满意。

听完 city walk 回家吹一吹澳门的晚风点一个捞汁海鲜和榴莲甜品舒舒服服。

---

10.29 游记

专门定了个 8 点 45 的闹钟吃上了澳门早茶，点了个面原来是当地的泡面，当这面还挺劲道，猪扒够味好吃，最满意是这次的港奶，是我喜欢的苦苦的浓郁茶香的口感

吃完回来看 ti 胜者组决赛，Spirit 太厉害了，赏心悦目 2:0LGD，AR 败者组对 GG 肉眼可见的打不过不是一个实力的队伍

出门沿着走过好几遍的路又来到了官也街，吃了顿好的，香辣蟹，鲍鱼 5 只，鱼翅汤，一共花了 875 澳门币，也差不多把换了的奥币用一些

剩下 1000 港币出发最后一站，银行酒店娱乐场，到了发现他们的商场是围绕娱乐场打造的事实，简单喝一杯星巴克进了娱乐场，进去根本看不懂规则，还专门靠 gpt 

才学会了百家乐规则，但最终也没有下场赌博，觉得学会看了形形色色的人们足够了

会去酒店取了托管的行李坐上轻轨出发去机场了，吃了个当地的金拱门，惊喜的发现这里有没吃过的阿华田麦旋风，口感挺不错，值机进出境入口准备回杭，旅途愉快。

### 学习

学习了 gpt 的函数调用模式，之前以为是在服务端定义了一个函数，然后通过传参，gpt 结合已经定义好的函数逻辑来返回生成的结果。但实际上还会有更多的细节步骤  
+ 第一步在生成 gpt 对话的时候已经把函数的执行逻辑定义好了
+ 然后在对话初始 prompt 传参的时候需要把定义好的函数名字以及函数的作用概述以及函数的传参定义以及参数具体作用告诉 gpt
+ 第二步用户输入问题，gpt 进一步判断询问的问题是否是一开始定义的函数作用相关的问题，如果是则返回函数名
+ 第三部客户端拿到需要执行的函数名字以及 gpt 帮你解析好的函数传参，然后我们自己去调用这个函数
+ 最终把这个生成的结果传给 gpt，此时定义的 role 是 function，最终 gpt 返回总结性单次对话概述从而完成整个 function call 的功能

---

阅读 nestjs 中文文档脑子里有了除了以前使用 express，MVC+ 中间件以外其他更多更复杂的概念认知，对于 nestjs 设计的不同概念的使用场景有了一定模糊的认知，具体的使用还需要用真实的应用实战才能有更深的理解  
请求进入→中间件（全局/模块）→守卫（全局/控制器/路由）→控制器前拦截器→（全局/控制器/路由）→管道（全局/控制器/路由/路由参数）→控制器逻辑→服务（如果存在）→控制器后拦截器（路由/控制器/全局）→异常过滤器（路由/控制器/全局）→服务器响应

---

学习了解了 postcss 在 vite 中默认读取当前根目录 postcss.config.js 文件的逻辑，如果在 vite.config.js 中被进一步声明则会导致配置文件中的内容不再生效

---

在对 antd 的 Form 组件的 rules 的 validator 的异步实现上有了更多的理解，以及对 Axios 的 Error 对象封装有了更多的实践经验

---

找到了一个有关于复杂系统的设计的 github 仓库，阅读学习了一下，感觉对于没有复杂系统后端实操经验的小白还是比较有好的，了解了 http 协议从 1.0 到 3.0 的演变过程，以及各个版本解决的问题和还存在的问题，1.1 是用了 keep-alive 防止每次都需要 tcp 从头建立连接，但是超过客户端请求连接数量限制之后还是存在阻塞性能的卡点，2.0 利用多路复用在一路上用流的概念允许建立多个连接进一步提升连接的并发性能，但这只是在应用层提高了性能在底层 tcp 本身还是存在连接效率不够高的问题，3.0 是基于 udp 并结合了 QUIC 进一步提升连接的性能
    
了解了除 rest，graphql 以外的 rpc 远程调用协议设计的目的和使用的具体场景，底层是通过编码为效率更高的传输形式用于不同服务之间的通讯，其本省是一种协议的设计，目的是为了让不同服务之间像调用自己本地方法一样通讯
    
网关层存在的一些细节作用，服务请求信息校验、请求拦截、请求限流、请求分发…
    
对 url、uri、urn 有一个简单的印象区分，url 和 urn 都是 uri 的子集，url 更多的就是我们网站地址，uri 则是通用意义上协议 + 权限信息 + 路径 + 查询参数的标识集合

### 思考


在 code review 看了下低代码的 python 定义的 fe 类思考了下当前 js 和 python 定义逻辑相互关联起来的实现，结合 gpt 的回答，大致判断有三种可能性  
1. 通过 http 之类的协议做序列化和反序列化的通讯
2. 用 wasm 直接在浏览器运行 Python
3. 把 Python 编译为 js 在浏览器运行

---

尝试去更多的思考一些职场上上下级关系的问题，以前多少还是会带着一份清高和领导保持一些距离，无论是喜欢和不喜欢都是放在心里，只要是利益不相关的事情，从来不会表露出来，现在努力去尝试表达和主动沟通自己的一些担忧和尊重感觉是很有必要的，尽管现在看起来还是会有心理上的不适，真实的去表达应该可以慢慢变得自然的，说到底关系还是需要主动去维护的。