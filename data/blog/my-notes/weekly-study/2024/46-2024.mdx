---
title: 2024-第四十六周
date: '2024-11-04'
tags: ['WEEKLY-2024']
draft: false
summary: ''
---

`该周报主要为各个地方内容的汇总整理`

<TOCInlineWithSticky toc={props.toc} />

## 技术

### [⭐️轻松了解容器查询](https://www.joshwcomeau.com/css/container-queries-introduction/)

这篇文章介绍了 CSS 的 container queries 特性，解释了它们的作用以及使用方法。容器查询允许根据元素的容器大小条件性地应用 CSS 样式，但由于一些限制，容器查询的使用并不像媒体查询那样直观。通过介绍容器查询的基本概念、不可能的问题和解决方法，以及浏览器支持情况，文章强调了容器查询对响应式设计的重要性，并呼吁开发者和设计师共同利用这一新特性。

- CSS 容器查询是近年来最受期待的 CSS 功能之一，可以根据元素的容器条件性地应用 CSS 样式，但容器的定义需要遵循特定规则。
- 容器查询的实现面临了长期存在的“不可能问题”，即在应用条件样式时可能导致无限循环的情况，但最终通过“Containment API”解决了这一问题。
- 容器查询已得到主流浏览器的支持，同时，开发者和设计师需要共同意识到容器查询的重要性，以便更广泛地应用于响应式设计中。

### [⭐️Chrome 使用 video 无法正常播放 MP4 视频的解决方案](https://www.cnblogs.com/Yellow-ice/p/13743400.html)

这篇文章主要讲解了在 Chrome 浏览器下部分 MP4 格式视频无法正常播放的原因，以及针对这一问题的解决方案。文章首先介绍了 HTML5 的 video 标签的使用以及视频文件的格式、封装格式和编码方式，然后详细分析了导致部分 MP4 视频无法在 Chrome 下播放的原因，最后提出了两种解决方案：使用 ffmpeg 转码工具或者在前端进行 MP4 视频编码格式判断并结合后台视频文件转码。

- HTML5 的 video 标签支持多种视频格式，但在 Chrome 下，部分 MP4 格式视频无法正常播放，原因是 Chrome 只支持 H.264 编码格式。
- 视频文件格式包括封装格式和编码方式，而对于 MP4 视频文件来说，转码成 H.264 编码格式是解决无法在 Chrome 下播放的关键。
- 前端可以通过判断 MP4 视频文件的编码格式，决定是否需要后台进行转码处理，从而保证所有 MP4 视频在 Chrome 中正常播放。

### [在 React 应用中实现实时视频的模糊或虚拟背景效果](https://www.bigbinary.com/blog/video-background-removal)

这篇文章介绍了如何利用 TensorFlow 的身体分割功能实现实时视频背景模糊和替换。它涵盖了创建 React 应用程序、安装 TensorFlow 包、加载预训练模型、对视频背景进行模糊处理以及移除背景并替换成虚拟背景的步骤。同时提供了代码示例和详细说明。

- TensorFlow 的人体分割技术利用深度学习模型将图像分割成不同的身体部位，并为实时视频提供背景模糊或替换的功能。
- 通过 React 应用结合 TensorFlow 的人体分割技术，可以实现对实时视频的背景模糊和替换，为视频流创建虚拟背景。
- 针对不同场景，可以通过调整参数和选择不同的模型，实现对视频背景的模糊处理或完全替换，为用户创造出更加优美、专注的视频环境。

### [深入了解浏览器的渲染过程](https://abhisaha.com/blog/exploring-browser-rendering-process)

这段文字介绍了浏览器渲染网页的过程，从输入网址到网页展示的全过程。包括 DNS 查询、TCP/TLS 握手、HTTP 请求/响应循环、标记化、DOM 树和 CSSOM 树的创建、渲染树的构建、布局和绘制等步骤。理解这些基本机制有助于开发人员构建更快、更高效的网站。

- 浏览器渲染网页的过程包括 DNS 查询、TCP/TLS 握手、HTTP 请求/响应循环、标记化、DOM 树创建、CSSOM 树创建、渲染树创建、布局和绘制等多个步骤。
- 浏览器通过将 HTML 响应解析为原始数据，然后转换为标记和节点，构建 DOM 树和 CSSOM 树，最终形成渲染树，以便在屏幕上准确呈现页面。
- 了解浏览器渲染网页的内部机制有助于开发人员构建更快、更高效的网站，且不同浏览器使用不同的渲染引擎，存在兼容性和性能差异。

### [WebKit 字体平滑到底是怎么回事？](https://dbushell.com/2024/11/05/webkit-font-smoothing/)

这篇文章探讨了在网页设计中使用 CSS 属性-webkit-font-smoothing: antialiased 的影响。作者最初避免使用这个属性，因为认为默认设置通常是最佳选择。然而，作者在测试后发现在 macOS 系统上这个属性可以改善文本渲染，使得字体更加清晰和统一。因此，作者现在支持在 CSS 中使用这个属性，并认为现代浏览器都支持它。总的来说，文章强调了审美偏好的主观性和跨平台测试的重要性。

- CSS 中的“-webkit-font-smoothing: antialiased;”属性在 macOS 上可以改善文本渲染效果，使文字看起来更清晰。
- 对比各种操作系统和设备后得出结论，该 CSS 属性仅在 macOS 系统下生效，对其他系统无影响。
- 对于 Mac 开发者来说，在 CSS reset 中加入这一属性是有益的，但需在其他平台上测试以确保文字的可读性和美感。

### [在 Next.js 中，什么时候应该使用 redirect() 而不是 router.push()？](https://darios.blog/posts/redirect-vs-router-push-in-nextjs)

本文介绍了在 Next.js 中进行重定向的三种方式：router.push()、redirect() 以及在中间件中使用 NextResponse.redirect()。router.push() 适用于客户端组件，使用 History API 进行页面跳转；而 redirect() 主要用于服务器端组件、服务器函数和路由处理程序，会在服务器端进行重定向。文章还指出了在使用 redirect() 时需要注意的一些问题，以及在特定情况下应该考虑使用 router.push() 来代替 redirect()。

- Next.js 中的 router.push() 用于在客户端组件的事件处理程序中执行页面导航，而 redirect() 则主要用于在服务器组件、服务器函数或路由处理程序中执行重定向。
- router.push() 利用 History API 在历史堆栈中推送新条目，允许用户通过标准浏览器的后退和前进功能进行导航，因此被称为仅限客户端的导航。
- 使用 redirect() 在服务器函数中进行重定向时，可能会导致下一个页面的 suspense 边界失效，因为 React 将在一批处理中执行服务器函数调用和下一个页面的渲染，并在下一个页面完全渲染后才返回响应。

### [三个前端库（React、Vue、Angular）的基本原理，并通过纯 JavaScript（VanillaJS）展示了如何实现它们的基本功能](https://gist.github.com/faustinoaq/b19da758fc45155a0b3b10d9f578c5ce)

这是一个演示了使用原生 JavaScript 实现简化版 React 框架的前端代码。其中包括了状态管理、虚拟 DOM 实现、组件创建和渲染等功能。同时也包含了一个示例组件和相应的 CSS 样式。

- 这篇课文介绍了如何从零开始使用纯 JavaScript 来实现简化版的 React 框架，包括状态管理和虚拟 DOM 的实现方式。
- 课文展示了如何使用函数式编程的思想和 JavaScript 的原生特性来构建组件化的 UI 框架，从而加深对 React 原理的理解。
- 通过简化版的 React 实现，课文强调了对 JavaScript 基础知识的重要性，以及对状态管理、虚拟 DOM 和组件化思想的深入理解对于构建现代 Web 应用的价值。

### [How to (not) reset a form after a Server Action in React](https://www.robinwieruch.de/react-server-action-reset-form/)

这篇文章介绍了在 React 中使用服务器操作时，如何在操作失败时保留表单数据而不重置表单，以提供更好的用户体验。文章通过示例说明了在 Next.js 中处理表单提交和服务器操作的过程，并展示了如何利用动作状态来保持表单数据的完整性。

- React 中默认情况下，表单在提交后会自动重置，但在使用 Next.js 时，即使使用了 Server Actions，表单仍会自动重置。
- 当服务器操作失败时，可以通过在服务器操作中返回表单数据，并在客户端根据返回的数据条件性地设置表单元素的默认值，来避免表单重置，从而保持表单数据的完整性。
- 通过在客户端使用 React 的 useActionState Hook 处理服务器操作的错误消息，结合服务器端返回的表单数据，可以实现在服务器操作失败时保持表单数据完整，而在成功时重置表单的目的。

### [弄清楚弹出框与对话框的区别与联系](https://css-tricks.com/clarifying-the-relationship-between-popovers-and-dialogs/)

DigitalOcean 提供各种云产品，适用于您在云计算旅程中的各个阶段。本文深入解释了弹出框（popover）和对话框（dialog）之间的区别，以及它们的可访问性角色和实现方式。通过对角色和技术实现进行分类和讨论，帮助读者更好地理解弹出框和对话框的概念，以及它们在 ARIA 世界中的使用和影响。

- 区分 Popovers 和 Dialogs 的关键在于它们的功能和交互特性，而非严格的技术实现。
- Dialogs 可以分为 Modal、Non-Modal 和 Alert Dialog 三种类型，而 Popovers 具有模态特性，因此 Dialogs 实质上是 Popovers 的一种类型。
- Popovers 需要具有可访问的角色，可以选择包括 menu、listbox、tree、grid、dialog 在内的角色，同时也可使用较为复杂的角色如 treegrid 和 alertdialog。

### [对一个已有五年历史的 Node.js 项目进行改造](https://dongdongzhang.me/blog/post-revamping-a-five-year-old-nodejs-project/)

这篇文章介绍了一个团队从旧的 React Native 和 React.js 架构迁移到新架构的完整过程，包括架构选择、迁移步骤、服务保障以及在迁移过程中遇到的挑战。文章列举了背景，目标，架构变化，技术栈选择，数据库映射，端点开发，数据同步，Redis 更新以及迁移保障等方面的内容，详细介绍了迁移过程中面临的技术和业务问题以及解决方案。

- 迁移目标：解耦 B 端服务 SDP，迁移 SDP 中 C 端逻辑至新的 Graff 项目，使用独立的数据库和 Redis，并增强 Rncache 服务的监控和日志记录。
- 数据迁移：历史数据同步包括处理大数据量、创建索引、对比数据库记录以及处理遗漏字段；增量数据同步则需要检测变化、通知变化和处理变化。
- 技术栈和端点开发：采用新的技术栈选择 MugJS + MySQL + Sequelize + Typescript，并需要重写 SDP 中的 16 个端点以及处理一些复杂的业务逻辑和语法问题。

## 工具

### [自定义 scrollbar 的工具网站](https://scrollbar.app/)

### [swapy](https://github.com/TahaSh/swapy)

✨ 这是一个不依赖于特定框架的工具，您只需简单几行代码，就能把任意布局变成可以拖拽交换的形式。了解更多请访问：https://swapy.tahazsh.com/

## 更新

### [The stretch keyword: a better alternative to width: 100% in CSS?](https://fullystacked.net/stretch/)

这段文字介绍了在 HTML 和 CSS 中，如何使用 width: 100% 和新的 stretch 关键字来控制元素的宽度，以及这些属性在不同浏览器上的支持情况。

- HTML 元素默认情况下会根据内容自动调整宽度，但对于需要占满整行的元素，需要使用 width: 100% 进行设置。
- 对于大图片，需要使用 width: 100% 来避免溢出。
- 使用 stretch 关键字可以让元素自动填充可用宽度，同时可以轻松使用外边距，而且该属性正在逐渐成为标准。

### [Node.js 23：重要更新、试验性功能以及性能改进](https://blog.risingstack.com/nodejs-23/)

Node.js 23 推出了许多新功能和改进，包括默认支持 ES 模块、稳定的 node --run 命令、增强的测试运行器、实验性的 TypeScript 支持、Web 存储 API 和 SQLite 集成，以及性能提升。这些改变简化了开发工作流程，使 Node.js 更加强大和多样化。Node.js 团队鼓励大家测试这些新功能，并提供反馈，特别是针对实验性功能，以便不断改进。

- Node.js 23 的重要更新包括默认支持 ES 模块的 require() 方法，简化了 ES 模块的导入流程，有助于更无缝地结合 CommonJS 和 ES 模块。
- Node.js 23 放弃了对 32 位 Windows 系统的支持，将重点放在现代化、广泛使用的平台上，简化了持续开发工作。
- Node.js 23 带来了稳定的 node --run 命令、增强的测试运行器、实验性的 TypeScript 支持以及 Web Storage API 和 SQLite 集成等功能，提升了开发者体验和性能。

### [@wasmer/sdk 添加了对 Node.js and Bun support](https://wasmer.io/posts/wasmer-js-sdk-now-supports-node-and-bun)

## 设计

### [精心设计的动态图标](https://icons.pqoqubbw.dev/)

一个开源的流畅动画图标合集

## AI

## 其他
